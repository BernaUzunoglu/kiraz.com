@page
@model kiraz.com.Pages.Urun.DetayModel
@{
    var p = Model.Product!;
    ViewData["Title"] = p.Name;
}

<section class="product">
    <div class="gallery">
        <img id="mainImg" class="gallery__main" src="@Url.Content(p.Gallery.FirstOrDefault() ?? p.MainImage)" alt="@p.Name" />
        <div class="gallery__thumbs">
            @foreach (var img in p.Gallery.DefaultIfEmpty(p.MainImage))
            {
                <img src="@Url.Content(img)" alt="@p.Name"
                     onclick="document.getElementById('mainImg').src='@Url.Content(img)';" />
            }
        </div>
    </div>

    <aside class="p-info">
        <img class="cherry-badge" src="~/images/kiraz_icon.png" alt="" />
        <h1 class="p-info__title">@p.Name</h1>
        <div class="p-info__price">@p.Price.ToString("0.##") TL</div>

        <div class="p-tabs">
            <h4>Ürün Açıklaması</h4>
            <p>@p.Description</p>
            <h4>Özellikler</h4>
            <ul>
                <li>Materyal: İpek / Pamuk / Modal (ürüne göre)</li>
                <li>Ölçü: 90x90 cm veya 70x200 cm</li>
                <li>Bakım: Soğuk suda elde yıkama</li>
            </ul>
        </div>

        <form method="post" asp-page="/Sepet" asp-page-handler="Add">
            <input type="hidden" name="id" value="@p.Id" />
            <input type="hidden" name="name" value="@p.Name" />
            <input type="hidden" name="price" value="@p.Price" />
            <input type="hidden" name="imageUrl" value="@Url.Content(p.MainImage)" />
            <button class="btn-buy" type="submit">Sepete Ekle</button>
        </form>
    </aside>
</section>
